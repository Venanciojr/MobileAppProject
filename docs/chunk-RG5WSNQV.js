import{$ as q,A as P,B as T,E as k,H as L,L as F,O as M,S as w,Y as O,_ as j,a as h,aa as z,ba as R,c as g,d as x,e as r,ea as H,f as p,fa as N,g as y,ga as U,h as m,ha as $,i as s,j as n,ja as D,k as i,l as u,n as v,p as c,q as I,r as d,v as b,w as _,x as C,y as E,z as S}from"./chunk-AUJEXBXW.js";import"./chunk-HKSNPKUY.js";import"./chunk-EGIJE37I.js";import"./chunk-DQ6V2DPB.js";import"./chunk-BWQHPFWY.js";import"./chunk-G3CV3VGG.js";import"./chunk-ZSXYZYSQ.js";import"./chunk-5MPL5A3U.js";import"./chunk-NKT2XMZU.js";import"./chunk-4U6PRYVA.js";import"./chunk-6BZ4INXC.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-OYAVQN5W.js";var A=(()=>{let e=class e{constructor(a){this.http=a,this.apiUrl="https://restcountries.com/v3.1/name"}searchCountries(a){return this.http.get(`${this.apiUrl}/${a}`)}};e.\u0275fac=function(l){return new(l||e)(g(T))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G=(t,e,o)=>({lat:t,lon:e,country:o}),J=t=>({country:t});function K(t,e){if(t&1&&(n(0,"ion-item")(1,"ion-thumbnail",5),u(2,"img",6),i(),n(3,"ion-label")(4,"h2"),c(5),i(),n(6,"p"),c(7),i(),n(8,"p"),c(9),i()(),n(10,"div",7)(11,"ion-button",8),c(12," Weather "),i(),n(13,"ion-button",9),c(14," News "),i(),n(15,"ion-button",10),u(16,"ion-icon",11),c(17," Home "),i()()()),t&2){let o=e.$implicit;r(2),s("src",o.flags==null?null:o.flags.png,x),r(3),I(o.name.official),r(2),d("Population: ",o.population,""),r(2),d("Region: ",o.region,""),r(2),s("routerLink","/weather")("queryParams",_(9,G,o.latlng[0],o.latlng[1],o.name.common)),r(2),s("routerLink","/news")("queryParams",b(13,J,o.name.common)),r(2),s("routerLink","/")}}function Q(t,e){if(t&1&&(n(0,"ion-list"),m(1,K,18,15,"ion-item",4),i()),t&2){let o=v();r(),s("ngForOf",o.countries)}}function V(t,e){t&1&&(n(0,"ion-text")(1,"p"),c(2,"Loading countries data..."),i()())}function X(t,e){t&1&&(n(0,"ion-text")(1,"p"),c(2,"No countries found."),i(),n(3,"ion-button",10),u(4,"ion-icon",11),c(5," Home "),i(),m(6,V,3,0,"ng-template",null,0,C),i()),t&2&&(r(3),s("routerLink","/"))}var rt=(()=>{let e=class e{constructor(a,l){this.route=a,this.countriesService=l,this.countries=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.searchTerm=a.search||"",this.searchTerm&&this.fetchCountries(this.searchTerm)})}fetchCountries(a){this.countriesService.searchCountries(a).subscribe(l=>{this.countries=l},l=>{console.error("Error fetching countries:",l),this.countries=[]})}};e.\u0275fac=function(l){return new(l||e)(p(k),p(A))},e.\u0275cmp=y({type:e,selectors:[["app-countries"]],decls:7,vars:4,consts:[["loading",""],[3,"translucent"],[3,"fullscreen"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","start"],["alt","Flag",3,"src"],["slot","end",1,"button-group"],["size","small","color","secondary",3,"routerLink","queryParams"],["size","small","color","primary",3,"routerLink","queryParams"],["size","small","color","tertiary",3,"routerLink"],["slot","start","name","arrow-back-outline"]],template:function(l,f){l&1&&(n(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),c(3,"Countries"),i()()(),n(4,"ion-content",2),m(5,Q,2,1,"ion-list",3)(6,X,8,1,"ion-text",3),i()),l&2&&(s("translucent",!0),r(4),s("fullscreen",!0),r(),s("ngIf",f.countries.length>0),r(),s("ngIf",f.countries.length===0))},dependencies:[D,w,H,q,R,O,j,U,$,P,E,S,M,z,N,F,L],styles:[".button-group[_ngcontent-%COMP%]{display:flex;gap:10px}ion-button[_ngcontent-%COMP%]{--border-radius: 8px;font-size:12px;padding:5px 10px}ion-button[color=tertiary][_ngcontent-%COMP%]{text-align:center;--background: #8e44ad;--color: white;--background-hover: #732d91}"]});let t=e;return t})();export{rt as CountriesPage};
